<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:previewer="clr-namespace:AvalonStudio.Languages.Xaml"
             xmlns:editor="clr-namespace:AvalonStudio.Controls.Standard.CodeEditor;assembly=AvalonStudio.Controls.Standard"
             >
    <Border BorderBrush="{DynamicResource ThemeBorderDarkBrush}" BorderThickness="1">
        <Grid RowDefinitions="*,10,*">
            <Grid DockPanel.Dock="Top" Background="{DynamicResource ThemeEditorBackground}">
                <previewer:AvaloniaPreviewer Xaml="{Binding SourceText} SourceFile={Binding SourceFile}" />
            </Grid>

            <GridSplitter Grid.Row="1" Height="5" />

            <editor:CodeEditor Grid.Row="2" Name="editor"
                                   BorderThickness="0" Margin="0"
                                   VerticalAlignment="Stretch"
                                   Background="{DynamicResource ThemeEditorBackground}"
                                   
                                   FontFamily="{Binding FontFamily}" 
                                   FontSize="{Binding VisualFontSize}"
                                  
                                  SourceFile="{Binding SourceFile}" 
                                  IsDirty="{Binding IsDirty}"
                                  SourceText="{Binding SourceText}">
            </editor:CodeEditor>
        </Grid>
    </Border>
</UserControl>